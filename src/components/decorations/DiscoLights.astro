---
import { Image } from "astro:assets";
import bar from "../../assets/images/pageimages/pa58_images/bar.jpg";
---

<div class="disco-container">
    <!-- Your image background -->
    <Image
        src={bar}
        alt="background"
        class="background-image w-full mask-y-from-75% mask-y-to-100% mask-x-from-75% mask-x-to-99%"
    />

    <!-- Disco lights overlay -->
    <div class="disco-lights">
        <div class="light pink"></div>
        <div class="light blue"></div>
        <div class="light yellow"></div>
        <div class="light green"></div>
    </div>
</div>

<style>
    .disco-container {
        position: relative;
        width: 100%;
        height: 14vw;
        overflow: hidden;
    }

    .background-image {
        position: absolute;
        width: 100%;
        height: 100%;
        object-fit: cover;
        z-index: 1;
    }

    .disco-lights {
        position: absolute;
        width: 100%;
        height: 100%;
        z-index: 2;
    }

    .light {
        position: absolute;
        border-radius: 10%;
        filter: blur(10px);
        opacity: 0.6;
        mix-blend-mode: overlay; /* Best for image backgrounds */
        animation: move 13s infinite linear;
        transition: all 5ms ease;
    }

    .light::after {
        content: "";
        position: absolute;
        width: 10px;
        height: 10px;
        background: white;
        border-radius: 60%;
        filter: blur(2px);
        animation: twinkle 3s infinite;
    }

    /* Light colors - adjust as needed */
    .pink {
        background: #ff00ff;
    }
    .blue {
        background: #0066ff;
    }
    .yellow {
        background: #ffff00;
    }
    .green {
        background: #00ff88;
    }

    /* Different sizes */
    .light:nth-child(1) {
        width: 30px;
        height: 20px;
    }
    .light:nth-child(2) {
        width: 30px;
        height: 30px;
    }
    .light:nth-child(3) {
        width: 40px;
        height: 40px;
    }
    .light:nth-child(4) {
        width: 11px;
        height: 11px;
    }


    /* Circular path alternative */
    @keyframes circular-move {
        0% {
            transform: rotate(0deg) translateX(100px) rotate(0deg) scale(1);
        }
        100% {
            transform: rotate(360deg) translateX(400px) rotate(-360deg)
                scale(1.3);
        }
    }



    /* Assign different movement styles to each light */
    .pink {
        width: 30px;
        height: 20px;
        animation-name: disco-move;
    }
    .blue {
        width: 30px;
        height: 20px;
        animation-name: circular-move;
        top: 50%;
        left: 50%;
    }
    .yellow {
        animation: figure8-move 10s infinite linear;
    }
    .green {
        animation-name: disco-move;
        animation-direction: reverse;
    }
</style>
